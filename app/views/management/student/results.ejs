<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h1 class="mb-0">Bảng điểm sinh viên</h1>
    </div>
    <div class="card-body">
        <!-- Summary Cards -->
        <div id="summarySection" class="row mb-4" style="display: none;">
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="summary-card">
                    <div class="summary-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="summary-content">
                        <h6>Tổng môn học</h6>
                        <div class="summary-value" id="totalCourses">0</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="summary-card">
                    <div class="summary-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="summary-content">
                        <h6>Tổng tín chỉ</h6>
                        <div class="summary-value" id="totalCredits">0</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="summary-card">
                    <div class="summary-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="summary-content">
                        <h6>GPA trung bình</h6>
                        <div class="summary-value" id="avgGPA">0.00</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="summary-card">
                    <div class="summary-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="summary-content">
                        <h6>Tỷ lệ đỗ</h6>
                        <div class="summary-value" id="passRate">0%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="mb-3">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <label for="semesterFilter" class="form-label">Chọn học kỳ:</label>
                    <select id="semesterFilter" class="form-select">
                        <option value="">Tất cả học kỳ</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Grades Content -->
        <div id="gradesContent"></div>
        
        <div id="loadingMsg" class="text-center py-5" style="display:none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Đang tải...</span>
            </div>
            <p class="mt-3 text-muted">Đang tải dữ liệu...</p>
        </div>
    </div>
</div>

<script>
    window.currentStudentId = "<%= user.user_id %>"; 
</script>
<script type="module" src="/js/modules/student/results/main.js"></script>